{"ast":null,"code":"import _slicedToArray from\"/Users/jsmith/Development/code/phase-2/phase-2-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BonsaiDetails(_ref){var bonsais=_ref.bonsais,handleBonsaiDelete=_ref.handleBonsaiDelete,isEditing=_ref.isEditing,setIsEditing=_ref.setIsEditing,handleUpdateBonsai=_ref.handleUpdateBonsai;var _useParams=useParams(),id=_useParams.id;var _useState=useState({name:\"\",image:\"\",family:\"\",genus:\"\",size:\"\"}),_useState2=_slicedToArray(_useState,2),bonsai=_useState2[0],setBonsai=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),editName=_useState4[0],setEditName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editImage=_useState6[0],setEditImage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),editFamily=_useState8[0],setEditFamily=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),editGenus=_useState10[0],setEditGenus=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),editSize=_useState12[0],setEditSize=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];useEffect(function(){var b=bonsais.find(function(b){return b.id==id;});if(b){setBonsai(b);setEditName(bonsai.name);setEditImage(bonsai.image);setEditFamily(bonsai.family);setEditGenus(bonsai.genus);setEditSize(bonsai.size);setLoading(false);}},[id,bonsais,isEditing]);function handleClick(){fetch(\"http://localhost:3000/bonsais/\".concat(bonsai.id),{method:\"DELETE\"});handleBonsaiDelete(bonsai.id);}var editedBonsai={name:editName,image:editImage,family:editFamily,genus:editGenus,size:editSize};function handleSubmit(e){e.preventDefault();fetch(\"http://localhost:3000/bonsais/\".concat(bonsai.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(editedBonsai)}).then(function(r){return r.json();}).then(function(updatedBonsai){return handleUpdateBonsai(updatedBonsai);});setIsEditing(function(prevState){return!prevState;});}if(loading){return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"details\",children:isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"editMenu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"collapse\",onClick:function onClick(){return setIsEditing(function(prevState){return!prevState;});},children:/*#__PURE__*/_jsxs(\"h5\",{children:[\"Cancel Edit \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-xmark\"})]})}),/*#__PURE__*/_jsx(\"img\",{src:bonsai.image}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"name\",value:editName,onChange:function onChange(e){return setEditName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"image\",value:editImage,onChange:function onChange(e){return setEditImage(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"family\",value:editFamily,onChange:function onChange(e){return setEditFamily(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"genus\",value:editGenus,onChange:function onChange(e){return setEditGenus(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"size\",value:editSize,onChange:function onChange(e){return setEditSize(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-submit\",type:\"submit\",children:\"Save\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bonsaiCard\",children:[/*#__PURE__*/_jsx(Link,{to:\"/bonsaicollection/\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[\"Collapse Details \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-xmark\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:bonsai===null||bonsai===void 0?void 0:bonsai.image}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:function onClick(){return setIsEditing(function(prevState){return!prevState;});},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:handleClick,children:/*#__PURE__*/_jsx(Link,{to:\"/bonsaicollection/\",children:\"Delete\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"about-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:bonsai===null||bonsai===void 0?void 0:bonsai.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Family : \",bonsai===null||bonsai===void 0?void 0:bonsai.family]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Genus-Species : \",bonsai===null||bonsai===void 0?void 0:bonsai.genus]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mature Size : \",bonsai===null||bonsai===void 0?void 0:bonsai.size]})]})]})});}export default BonsaiDetails;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","jsx","_jsx","jsxs","_jsxs","BonsaiDetails","_ref","bonsais","handleBonsaiDelete","isEditing","setIsEditing","handleUpdateBonsai","_useParams","id","_useState","name","image","family","genus","size","_useState2","_slicedToArray","bonsai","setBonsai","_useState3","_useState4","editName","setEditName","_useState5","_useState6","editImage","setEditImage","_useState7","_useState8","editFamily","setEditFamily","_useState9","_useState10","editGenus","setEditGenus","_useState11","_useState12","editSize","setEditSize","_useState13","_useState14","loading","setLoading","b","find","handleClick","fetch","concat","method","editedBonsai","handleSubmit","e","preventDefault","headers","body","JSON","stringify","then","r","json","updatedBonsai","prevState","children","className","onClick","src","onSubmit","required","type","value","onChange","target","to"],"sources":["/Users/jsmith/Development/code/phase-2/phase-2-project/src/components/BonsaiDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\n\nfunction BonsaiDetails({\n  bonsais,\n  handleBonsaiDelete,\n  isEditing,\n  setIsEditing,\n  handleUpdateBonsai,\n}) {\n  const { id } = useParams();\n  const [bonsai, setBonsai] = useState({\n    name: \"\",\n    image: \"\",\n    family: \"\",\n    genus: \"\",\n    size: \"\",\n  });\n\n  const [editName, setEditName] = useState(\"\");\n  const [editImage, setEditImage] = useState(\"\");\n  const [editFamily, setEditFamily] = useState(\"\");\n  const [editGenus, setEditGenus] = useState(\"\");\n  const [editSize, setEditSize] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const b = bonsais.find((b) => b.id == id);\n    if (b) {\n      setBonsai(b);\n      setEditName(bonsai.name);\n      setEditImage(bonsai.image);\n      setEditFamily(bonsai.family);\n      setEditGenus(bonsai.genus);\n      setEditSize(bonsai.size);\n      setLoading(false)\n    }\n  }, [id, bonsais, isEditing]);\n\n  function handleClick() {\n    fetch(`http://localhost:3000/bonsais/${bonsai.id}`, {\n      method: \"DELETE\",\n    });\n\n    handleBonsaiDelete(bonsai.id);\n  }\n\n  const editedBonsai = {\n    name: editName,\n    image: editImage,\n    family: editFamily,\n    genus: editGenus,\n    size: editSize,\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(`http://localhost:3000/bonsais/${bonsai.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(editedBonsai),\n    })\n      .then((r) => r.json())\n      .then((updatedBonsai) => handleUpdateBonsai(updatedBonsai));\n    setIsEditing((prevState) => !prevState);\n  }\n\n  if (loading) {\n    return <h2>Loading...</h2>\n  }\n\n  return (\n    <div className=\"details\">\n      {isEditing ? (\n        <div className=\"editMenu\">\n          <button\n            className=\"collapse\"\n            onClick={() => setIsEditing((prevState) => !prevState)}\n          >\n            <h5>\n              Cancel Edit <i className=\"fa-solid fa-circle-xmark\"></i>\n            </h5>\n          </button>\n          <img src={bonsai.image} />\n          <form onSubmit={handleSubmit}>\n            <input\n              required\n              type=\"text\"\n              name=\"name\"\n              value={editName}\n              onChange={(e) => setEditName(e.target.value)}\n            />\n            <input\n              required\n              type=\"text\"\n              name=\"image\"\n              value={editImage}\n              onChange={(e) => setEditImage(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              name=\"family\"\n              value={editFamily}\n              onChange={(e) => setEditFamily(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              name=\"genus\"\n              value={editGenus}\n              onChange={(e) => setEditGenus(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              name=\"size\"\n              value={editSize}\n              onChange={(e) => setEditSize(e.target.value)}\n            />\n            <button className=\"edit-submit\" type=\"submit\">\n              Save\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"bonsaiCard\">\n          <Link to=\"/bonsaicollection/\">\n            <h5>\n              Collapse Details <i className=\"fa-solid fa-circle-xmark\"></i>\n            </h5>\n          </Link>\n          <div className=\"details-image\">\n            <img src={bonsai?.image} />\n            <div className=\"button-wrapper\">\n              <button\n                className=\"edit-button\"\n                onClick={() => setIsEditing((prevState) => !prevState)}\n              >\n                Edit\n              </button>\n              <button className=\"delete-button\" onClick={handleClick}>\n                <Link to=\"/bonsaicollection/\">Delete</Link>\n              </button>\n            </div>\n          </div>\n          <div className=\"about-info\">\n            <h3>{bonsai?.name}</h3>\n            <p>Family : {bonsai?.family}</p>\n            <p>Genus-Species : {bonsai?.genus}</p>\n            <p>Mature Size : {bonsai?.size}</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default BonsaiDetails;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}